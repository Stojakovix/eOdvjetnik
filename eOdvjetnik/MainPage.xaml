<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sys="clr-namespace:System;assembly=netstandard"
             x:Class="eOdvjetnik.MainPage"
             xmlns:sfPopup="clr-namespace:Syncfusion.Maui.Popup;assembly=Syncfusion.Maui.Popup"
             xmlns:local ="clr-namespace:eOdvjetnik.ViewModel"
             >

<!--Crasha se CSS kad implementiraš ->
    font-size: 15px;
                    left: 1;
                width: 99%;
padding-right: 30;
    border-radius: 5;
    padding: 5 5;
    min-height: 65;
    height: 100%;
    -->
    <ContentPage.Resources>
        <StyleSheet>
            <![CDATA[
            ^Button {
                text-align: left;
                color: black;
                position: absolute;
                background: #5dc1e4;
                font-size: 15;
                top: 0;
  
            }
            ]]>
        </StyleSheet>
    </ContentPage.Resources>

    <ContentPage.BindingContext>
        <local:MainPageViewModel/>
    </ContentPage.BindingContext>

    <FlexLayout Direction="Column">

        <FlexLayout FlexLayout.Grow="1">
            <ScrollView>
        <VerticalStackLayout>
            

            <!--<StackLayout HorizontalOptions="CenterAndExpand"  x:Name="MySQLForm">
                <Label Text="IP adresa" />
                <Entry x:Name="IPEntryMySQL"  Text="{Binding IP}" />
                <Label Text="Korisničko ime" />
                <Entry x:Name="USEREntryMySQL" Text="{Binding UserName}" />
                <Label Text="Lozinka" />
                <Entry x:Name="PASSEntryMySQL" Text="{Binding Password}"  />
                <Label Text="Ime baze podataka" />
                <Entry x:Name="databasenameEntryMySQL" Text="{Binding DatabaseName}" />

                <Button Text="Save"  Command="{Binding SaveCommand}" />
                <Button Text="Load"  Command="{Binding LoadCommand}" />
                <Button Text="Delete"  Command="{Binding DeleteCommand}" />

            </StackLayout>-->
            

            <!-->
            NAS FORMS
            -->
            <Image
                Source="logo.png"
                SemanticProperties.Description="Cute dot net bot waving hi to you!"
                HeightRequest="200"
                HorizontalOptions="Center" 
                BackgroundColor="White"
                />
            <Label
                Text="Dobrodošli"
                SemanticProperties.HeadingLevel="Level1"
                FontSize="32"
                HorizontalOptions="Center" />
            
            <Label
                Text="VPN server"
                SemanticProperties.HeadingLevel="Level2"
                SemanticProperties.Description="NAS server"
                FontSize="18"
                HorizontalOptions="Center" />
            <Button
                x:Name="CounterBtn"
                StyleClass="my-button"
                Text="Spoji se"
                SemanticProperties.Hint="Spoji se"
                Clicked="OnCounterClicked"
                HorizontalOptions="Center" >
                <!--<Button.Style>  !XML NAČIN DODAVANJA STILA!
                    <Style TargetType="Button">
                        <Setter Property="BackgroundColor" Value="#007acc" />
                        <Setter Property="TextColor" Value="White" />
                        
                        <Setter Property="Padding" Value="10, 20" />
                        <Setter Property="FontSize" Value="16" />
                        <Setter Property="FontAttributes" Value="Bold" />
                        
                        <Setter Property="TextTransform" Value="Uppercase" />
                    </Style>
                </Button.Style>-->
            </Button>
            <VerticalStackLayout HorizontalOptions="Center">
                <Button x:Name="NasPopup" Text="NAS Postavke"  Command="{Binding ShowPopupCommand}" />
                <Button Text="MySQL Postavke" Command="{Binding SQLShowPopupCommand}" />

                <Label
                Text="DD logo test"
                SemanticProperties.HeadingLevel="Level2"
                FontSize="18"
                Opacity="0"
                HorizontalOptions="Center" />

                <Image
                Source="logotext.png"
                SemanticProperties.HeadingLevel="Level2"
                SemanticProperties.Description="logo"
                HeightRequest="120"
                HorizontalOptions="Center" 
                />
                
            </VerticalStackLayout>
            

            <sfPopup:SfPopup IsVisible="{Binding SQLVisible}"
                             IsOpen="{Binding SQLPopupOpen}"
                             VerticalOptions="CenterAndExpand"
                             HorizontalOptions="CenterAndExpand"
                             MinimumHeightRequest="500"
                             ShowCloseButton="True"
                             IsFullScreen="False"
                             ShowHeader="True"
                             HeaderTitle="SQL postavke"
                             x:Name="SQLPopup"
                             StaysOpen="True"
                             RelativePosition="AlignTopLeft"
                             

                             Margin="20">

                <sfPopup:SfPopup.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Label Text="IP adresa" Grid.Row="0" Grid.Column="0" TextColor="Black" />
                            <Entry x:Name="IPEntry" Text="{Binding IP}" Grid.Row="0" Grid.Column="1" TextColor="Black" />

                            <Label Text="Korisničko ime" Grid.Row="1" Grid.Column="0" TextColor="Black" />
                            <Entry x:Name="USEREntry" Text="{Binding UserName}" Grid.Row="1" Grid.Column="1" TextColor="Black" />

                            <Label Text="Lozinka" Grid.Row="2" Grid.Column="0" TextColor="Black" />
                            <Entry x:Name="PASSEntry" Text="{Binding Password}" Grid.Row="2" Grid.Column="1" TextColor="Black" />

                            <Label Text="Database" Grid.Row="3" Grid.Column="0" TextColor="Black" />
                            <Entry x:Name="DatabaseEntry" Text="{Binding DatabaseName}" Grid.Row="3" Grid.Column="1" TextColor="Black" />


                            <Button Text="Save" Command="{Binding SaveCommand}" Grid.Row="5"  />
                            <Button Text="Load" Command="{Binding LoadCommand}" Grid.Row="6"  />
                            <Button Text="Delete" Command="{Binding DeleteCommand}" Grid.Row="7" />
                        </Grid>
                    </DataTemplate>
                </sfPopup:SfPopup.ContentTemplate>
            </sfPopup:SfPopup>
        </VerticalStackLayout>

                
            </ScrollView>
        </FlexLayout>

        <FlexLayout Direction="Row" JustifyContent="SpaceBetween" AlignItems="End">
                <Image Source="text_only.png" Margin="5" HeightRequest="20"/>
                <Label Text="Trenutno otvoreni dokument" FontSize="Small" Margin="5"/>
                <Label Text="{Binding datetime}" FontSize="Small" Margin="5" />

            
            </FlexLayout>

    </FlexLayout>

</ContentPage>
