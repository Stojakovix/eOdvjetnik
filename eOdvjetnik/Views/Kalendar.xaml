<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:scheduler="clr-namespace:Syncfusion.Maui.Scheduler;assembly=Syncfusion.Maui.Scheduler"
             xmlns:models="clr-namespace:eOdvjetnik.Models"
             x:Class="eOdvjetnik.Views.Kalendar"
             xmlns:local="clr-namespace:eOdvjetnik.ViewModel"
             Title="Kalendar"
             >
    <ContentPage.BindingContext>
        <local:KalendarViewModel x:Name="viewmodel"/>
    </ContentPage.BindingContext>

    
    

    <Grid>
        <Grid.Resources>
            <DataTemplate x:Key="appointmentTemplate">
                
                    <Frame BackgroundColor="LightBlue"
                       Opacity="0.5"
                       Padding="10,5,15,5"
                       HasShadow="False"
                       BorderColor="Transparent"
                       >
                        <Label Text="{Binding Subject}"
                           TextColor="Black"
                           HorizontalOptions="CenterAndExpand"
                           VerticalOptions="CenterAndExpand"
                           FontFamily="Bold"/>
                    </Frame>
               
                       
            </DataTemplate>
        </Grid.Resources>


        <scheduler:SfScheduler x:Name="Scheduler" 
                           View="Day"
                           FirstDayOfWeek="Monday"
                           Tapped="Scheduler_Tapped"
                           SelectedCellBackground="Orange"
                           AppointmentsSource="{Binding Appointments}"
                           ShowWeekNumber="True"
                           BackgroundColor="{AppThemeBinding Dark=White, Light=White}"
                           AllowedViews="Day,Week,WorkWeek,Agenda,Month"
                           TodayHighlightBrush="Red"
                           CalendarType="Gregorian"
                           EnableReminder="True"
                          
                           

                           >
            
            
            <scheduler:SfScheduler.DaysView>
                <scheduler:SchedulerDaysView
                    TimeFormat="HH:mm "
                    TimeInterval="1:0:0"
                    CurrentTimeIndicatorBrush="Red"
                    AppointmentTemplate="{StaticResource appointmentTemplate}"
                    
                    >
                    <scheduler:SchedulerDaysView.TimeRegionTemplate>
                        <DataTemplate>
                            <Grid Background="#fafafa">
                                <!--Background="#f7f7f7-->
                            </Grid>
                        </DataTemplate>
                    </scheduler:SchedulerDaysView.TimeRegionTemplate>
                </scheduler:SchedulerDaysView>
            </scheduler:SfScheduler.DaysView>


        </scheduler:SfScheduler>

    </Grid>

</ContentPage>
    
    